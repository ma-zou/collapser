/**
 * @name Collapser
 * @author Malte Zoudlik ma.z0u
 * @version 1.0.1
 * @copyright (c) 2018
 */
function Collapser(e){this.params={trigger:".collapser",maxHeight:!1,scrollTo:!1,openFirst:!0,onhold:!1};var t={};t.params=function(e,t){var i={};for(var r in e)i[r]=e[r];for(var r in t)i[r]=t[r];return i}(this.params,e),t.status=!1;var i=function(e,t,i){"top"===i?i=0:"bottom"===i?i=window.innerHeight:"center"===i&&(i=window.innerHeight/2),setTimeout(function(){var r=(e.getBoundingClientRect().top-window.pageXOffset-i)/(t/15),n=0,s=function(){n+=15;var e=r;document.documentElement.scrollTop+=e,n<t&&setTimeout(s,15)};s()},300)},r=function(e,r,n){if(r){var a=e.nextElementSibling.scrollHeight+"px";e.classList.add("active"),0!=t.params.maxHeight&&t.params.maxHeight<=e.nextElementSibling.scrollHeight&&(e.nextElementSibling.classList.add("limited"),a=t.params.maxHeight+"px"),e.nextElementSibling.style.maxHeight=a,s(e.nextElementSibling,!0),void 0===n&&!0===t.params.scrollTo&&i(e,500,100)}else e.classList.remove("active"),e.nextElementSibling.classList.remove("limited"),s(e.nextElementSibling,!1),e.nextElementSibling.style.maxHeight=0},n=function(e){var i=e.target.resizeObserver.scrollHeight+"px";0!=t.params.maxHeight&&t.params.maxHeight<=e.target.resizeObserver.scrollHeight?(e.target.resizeObserver.classList.add("limited"),i=t.params.maxHeight+"px"):e.target.resizeObserver.classList.remove("limited"),e.target.resizeObserver.style.maxHeight=i},s=function(e,t){t?(window.addEventListener("resize",n),window.resizeObserver=e):window.removeEventListener("resize",n)},a=function(e){e.currentTarget.classList.contains("active")?r(e.currentTarget,!1):([].forEach.call(e.currentTarget.triggerList,function(e){r(e,!1)}),r(e.currentTarget,!0))},l=function(){var e,n;return t.triggerList=document.querySelectorAll(t.params.trigger),[].forEach.call(t.triggerList,function(e){e.addEventListener("click",a),e.classList.add("collapser-initialized"),e.triggerList=t.triggerList,e.nextElementSibling.style.maxHeight=0}),-1==window.location.hash.indexOf("#")||window.location.hash.length<=1?r(t.triggerList[0],t.params.openFirst,!1):(e=window.location.hash,n=t.triggerList,[].forEach.call(n,function(t){r(t,!1),t.id==e.replace("#","")&&(r(t,!0),i(t,500,100))})),t.status=!0,t.triggerList};return!1===t.params.onhold&&l(),this.init=function(){!1===t.status&&l()},this.destroy=function(){t.status&&t.params.onhold&&(t.triggerList=document.querySelectorAll(t.params.trigger),[].forEach.call(t.triggerList,function(e){e.removeEventListener("click",a),e.classList.remove("collapser-initialized"),e.nextElementSibling.style.maxHeight="100%"}),t.status=!1)},this.params=t.params,this}